!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.UniSharp={})}(this,function(n){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},l=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n};function e(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function f(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function h(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}var v=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r,e=arguments[t];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i=(r(c,[{key:"invert",value:function(){var n=new c;return n.years=-1*this.years,n.months=-1*this.months,n.days=-1*this.days,n.hours=-1*this.hours,n.minutes=-1*this.minutes,n.seconds=-1*this.seconds,n.milliseconds=-1*this.milliseconds,n}},{key:"ago",value:function(n){n=0<arguments.length&&void 0!==n?n:null;return this.invert().after(n)}},{key:"after",value:function(n){n=0<arguments.length&&void 0!==n?n:null;return(n=n||new Date).setFullYear(n.getFullYear()+this.years),n.setMonth(n.getMonth()+this.months),n.setDate(n.getDate()+this.days),n.setHours(n.getHours()+this.hours),n.setMinutes(n.getMinutes()+this.minutes),n.setSeconds(n.getSeconds()+this.seconds),n.setMilliseconds(n.getMilliseconds()+this.milliseconds),n}},{key:"valueOf",value:function(){return 1e3*this.years*60*60*24*30*365+1e3*this.months*60*60*24*30+1e3*this.days*60*60*24+1e3*this.hours*60*60+1e3*this.minutes*60+1e3*this.seconds+this.milliseconds}}]),c);function c(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.years,r=void 0===t?0:t,e=n.months,i=void 0===e?0:e,u=n.days,o=void 0===u?0:u,t=n.hours,e=void 0===t?0:t,u=n.minutes,t=void 0===u?0:u,u=n.seconds,u=void 0===u?0:u,n=n.milliseconds,n=void 0===n?0:n;l(this,c),this.years=r,this.months=i,this.days=o,this.hours=e,this.minutes=t,this.seconds=u,this.milliseconds=n}function d(n){return"function"==typeof n}function a(n){return"number"==typeof n&&isFinite(n)}function p(n){return n&&Array.isArray(n)}function y(n){return n&&"object"===(void 0===n?"undefined":t(n))&&"Object"===n.constructor.name}function s(t){return d(t)?t:null===t?function(n){return n}:function(n){return n===t}}function g(n){return p(n)||(n=(""+n).replace(/^\[|\]/g,"").replace(/\[/g,".").split(".")),[].concat(h(n))}function u(n){return G(I(n),function(n){return""+n})}function o(n,t,r){var e=2<arguments.length&&void 0!==r?r:null,r=""+(t=g(t)).shift();return p(n)&&(n=v({},n)),Z(I(n),r)?(r=n[r],t.length?o(r,t,e):[!0,r]):[!1,e]}function m(n,t,r){var e=1<arguments.length&&void 0!==t?t:null,t=2<arguments.length&&void 0!==r?r:null,i=!1;return!0===e&&(i=!(e=null)),r=(r=W(G(n,function(n,t){return{key:t,value:n}}))).sort(function(n,t){return e?e(n.value,t.value):function(n,t){return t<n?1:n<t?-1:0}.apply(void 0,h(G([n.value,t.value],function(n){return y(n)?W(n):n})))*[1,-1][+i]}),t&&(r=G(r,t)),y(n)?Q(r,"value","key"):Q(r,"value")}function b(n){return I(n).length}function M(n,t,r){return null===(t=1<arguments.length&&void 0!==t?t:null)?n:o(n,t,2<arguments.length&&void 0!==r?r:null)[1]}function j(n,t){return(t=1<arguments.length&&void 0!==t?t:null)&&(n=Q(n,t)),W(n).reduce(function(n,t){return n+(+t||0)},0)}function k(n,t){var r,e=p(n),i=0;for(r in n)if(e&&(r=+r),!1===t(n[r],r,i++))break;return n}function O(n,t,r){var e=1<arguments.length&&void 0!==t?t:0,i=2<arguments.length&&void 0!==r?r:null;if(null===i&&(i=b(n)),p(n))return n.slice(e,i);var u={};return e<0&&(e=b(n)+e),i<0&&(i=b(n)+i),k(n,function(n,t,r){e<=r&&r<i&&(u[t]=n)}),u}function w(n,t,r){var e,i=p(n),u=r,o=0;for(e in n)i&&(e=+e),u=t(u,n[e],e,o++);return u}function A(n,t){var r,e=1<arguments.length&&void 0!==t?t:null,i=p(n),u={},o=0,e=s(e);for(r in n){var l=n[r];i&&(r=+r),e(l,r,o++)&&(u[r]=l)}return i?W(u):u}function S(n){return!b(n)}function x(n){return!S(n)}function C(n,t,r){var e=O(n),n=e[t];return e[t]=e[r],e[r]=n,e}function _(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var i,u=n,o=p(n)?b(n):0;for(i in r)var l=function(n,t,r){var e,i=p(t),u=v({},n);for(e in t)u=v({},u,f({},i?r++:e,t[e]));return{flag:r,result:y(n)||y(t)?u:W(u)}}(u,r[i],o),u=l.result,o=l.flag;return u}function D(r,t,n){var e,n=2<arguments.length&&void 0!==n&&n;return d(t)||(e=t,t=function(n){return M(n,e)}),m(G(r,function(n){return t(n)}),n,function(n){var t=n.key;n.value;return{key:t,value:r[t]}})}function z(n,t){return-1===(t=W(n).indexOf(t))?null:y(n)?I(n)[t]:t}function B(n){return[].concat(h(Array(+this).keys())).map(function(n){return n+1}).map(n)}function F(n,t){var r=new i;return r[n]=t,r}function H(){return F("years",this)}function N(){return F("months",this)}function E(){return F("days",this)}function P(){return F("hours",this)}function K(){return F("minutes",this)}function L(){return F("seconds",this)}function U(){return F("milliseconds",this)}function $(){return this.replace(/^(.)/,function(n){return n.toUpperCase()})}function q(){return this.replace(/^(.)/,function(n){return n.toLowerCase()})}function T(){return this.split(/[-_ ]/).filter(function(n){return n}).map(function(n){return $.call(n)}).join("")}function Y(){return this.split(/(?=[A-Z])|[-_ ]/g).filter(function(n){return n}).join("_").toLowerCase()}var I=function(n){var t=Object.keys(n);return p(n)&&(t=t.map(function(n){return+n})),t},W=function(n){return p(n)?n:Object.values(n)},Z=function(n,t){return-1!==W(n).indexOf(t)},G=function(n,t){var r,e=p(n),i={},u=0;for(r in n)e&&(r=+r),i[r]=t(n[r],r,u++);return y(n)?i:W(i)},J=function n(t,r){var e,i=1<arguments.length&&void 0!==r?r:1/0,u=[];for(e in t){var o=t[e];p(o)||y(o)?u=[].concat(h(u),h(1!==i?n(o,i-1):W(o))):u.push(o)}return u},Q=function(n,t,r){var e,i=2<arguments.length&&void 0!==r?r:null,u=d(i),o=null===i,l=p(n),c=o?[]:{},a=0;for(e in n){l&&(e=+e);var s=n[e],c=o?[].concat(h(c),[M(s,t)]):v({},c,f({},u?i(s,e,a++):M(s,i),M(s,t)))}return c},R={keys:I,values:W,contains:Z,count:b,has:function(n,t){return o(n,t)[0]},get:M,set:function(n,t,r){for(var e=n,i=(t=g(t)).shift(),u=n[i];t.length;){var o=t.shift();y(u)||p(u)||(e[i]=a(+o)?[]:{},u=e[i]),u=(e=u)[i=o]}return e[i]=r,n},sum:j,avg:function(n,t){var r=1<arguments.length&&void 0!==t?t:null,t=b(n);return t?(r&&(n=Q(n,r)),j(n)/t):null},each:k,slice:O,reduce:w,toArray:function r(n){return w(n,function(n,t){return[].concat(h(n),[y(t)?r(t):t])},[])},chunk:function(r,e){return w([].concat(h(Array(Math.ceil(b(r)/e)).keys())),function(n,t){return[].concat(h(n),[O(r,t*e,(t+1)*e)])},[])},except:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var i,u=p(n),o={},r=J(r);for(i in n)u&&(i=+i),-1===r.indexOf(i)&&(o[i]=n[i]);return u?W(o):o},filter:A,isEmpty:S,isNotEmpty:x,first:function(n,t){t=1<arguments.length&&void 0!==t?t:null;return t&&(n=A(n,t)),x(n)?W(n)[0]:null},last:function(n,t){t=1<arguments.length&&void 0!==t?t:null;return t&&(n=A(n,t)),x(n)?W(n)[b(n)-1]:null},map:G,mapWithKeys:function(n,t){var r,e=p(n),i={},u=0;for(r in n)e&&(r=+r),i=v({},i,t(n[r],r,u++));return i},flatten:J,min:function(n){return Math.min.apply(Math,h(W(n)))},max:function(n){return Math.max.apply(Math,h(W(n)))},only:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var i,u=p(n),o={},r=J(r);for(i in n)u&&(i=+i),-1!==r.indexOf(i)&&(o[i]=n[i]);return y(n)?o:W(o)},pipe:function(n,t){return t(n)},pluck:Q,reject:function(n,t){if(null===(o=1<arguments.length&&void 0!==t?t:null))throw new Error("Callback function is required.");var r,e=p(n),i={},u=0,o=s(o);for(r in n)e&&(r=+r),o(n[r],r,u++)||(i[r]=n[r]);return y(n)?i:W(i)},swap:C,shuffle:function(n){if(y(n))return n;for(var t=b(n),r=O(n),e=0;e<t;e++)var i=Math.floor(Math.random()*t),r=C(r,e,i);return r},take:function(n,t){return O(n,0,t)},unique:function(n,t){var r,e=1<arguments.length&&void 0!==t?t:null,i=d(e),u=p(n),o=[],l={},c=0;for(r in n){u&&(r=+r);var a=n[r],s=i?e(a,r,c++):M(a,e);-1===o.indexOf(s)&&(l[r]=a,o.push(s))}return y(n)?l:W(l)},diff:function(n,t){return A(n,function(n){return!Z(t,n)})},diffKeys:function(n,t){var r=u(t);return A(v({},n),function(n,t){return!Z(r,t)})},intersect:function(n,t){return A(n,function(n){return Z(t,n)})},intersectByKeys:function(n,t){var r=u(t);return A(v({},n),function(n,t){return Z(r,t)})},merge:_,keyBy:function(n,t){var r,e=d(t),i=p(n),u={},o=0;for(r in n){i&&(r=+r);var l=n[r];u[e?t(l,r,o++):M(l,t)]=l}return u},groupBy:function(n,t){var r,e=d(t),i=p(n),u={},o=0;for(r in n){i&&(r=+r);var l,c=n[r],a=e?t(c,r,o++):M(c,t);for(l in p(a)||(a=[a]),a){var s=a[l];u[s]||(u[s]=i?[]:{}),i?u[s].push(c):u[s][r]=c}}return u},sort:function(n,t){t=1<arguments.length&&void 0!==t?t:null;return p(n)&&t?n.sort(t):m(n,t)},sortDesc:function(n){return m(n,!0)},sortBy:D,sortByDesc:function(n,t){return D(n,t,!0)},append:function(n,t,r){r=2<arguments.length&&void 0!==r?r:null;return p(n)?[].concat(h(n),[t]):v({},n,f({},r,t))},prepend:function(n,t,r){r=2<arguments.length&&void 0!==r?r:null;return p(n)?[t].concat(h(n)):v(f({},r,t),n)},index:z,insert:function(n,t,r,e){e=3<arguments.length&&void 0!==e?e:null;return p(n)?[].concat(h(O(n,0,t)),[r],h(O(n,t))):(t=z(I(n),t),v({},O(n,0,t),f({},e,r),O(n,t)))},join:function(n,t){t=1<arguments.length&&void 0!==t?t:", ";return y(n)&&(n=W(n)),n.join(t)},partition:function(n,t){var r,e=p(n),i=e?[[],[]]:[{},{}],u=0;for(r in n){e&&(r=+r);var o=n[r],l=+!t(o,r,u++);e?i[l].push(o):i[l][r]=o}return i},flip:function(n){var t,r=p(n),e={};for(t in n)e[n[t]]=r?+t:t;return e},fill:function(n,t,r,e){var i=2<arguments.length&&void 0!==r?r:0,u=(u=3<arguments.length&&void 0!==e?e:null)||b(n);if(p(n))return n.fill(t,i,u);var o,l=0,c={};for(o in n)c[o]=i<=l&&l<u?t:n[o],l++;return c},freeze:function(n){return Object.freeze(n)},isFrozen:function(n){return Object.isFrozen(n)},flatMap:function(n,t){var r,e=[],i=0;for(r in n)e=_(e,t(n[r],a(+r)?+r:r,i++));return e}},V={random:function(n){var t=0<arguments.length&&void 0!==n?n:null,n=Math.random()*(t||1);return null===t||(t=t,Number(t)===t&&t%1!=0)?n:Math.floor(n)}},X={format:function(){return this.toString().replace(/(.)(?=(?:\d{3})+$)/g,"$1,")},times:B,upto:function(n,t){var r=this;return B.call(n-this+1,function(n){return n+r-1}).map(t)},downto:function(n,t){var r=this;return B.call(this-n+1,function(n){return r-n+1}).map(t)},round:function(n){n=0<arguments.length&&void 0!==n?n:0;return Math.round(this*Math.pow(10,n))/Math.pow(10,n)},floor:function(){return Math.floor(this)},ceil:function(){return Math.ceil(this)},abs:function(){return Math.abs(this)},year:H,month:N,day:E,hour:P,minute:K,second:L,millisecond:U,years:function(){return H.call(this)},months:function(){return N.call(this)},days:function(){return E.call(this)},hours:function(){return P.call(this)},minutes:function(){return K.call(this)},seconds:function(){return L.call(this)},milliseconds:function(){return U.call(this)}},nn={random:function(n){for(var t=0<arguments.length&&void 0!==n?n:16,r="";r.length<t;)r+=Math.random().toString(36).slice(2);return r.slice(-t)}},tn={slugify:function(){return this.toLowerCase().replace(/[:/.?=&#\s]/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")},stripTags:function(){return this.replace(/<\/?[a-z0-9]+.*?>/gi,"")},limit:function(n,t){t=1<arguments.length&&void 0!==t?t:"...";return this.slice(0,n)+t},nl2br:function(){return this.replace(/\r\n|\n\r|\n|\r/g,"<br>")},studly:T,camel:function(){return q.call(T.call(this))},snake:Y,kebab:function(){return Y.call(this).replace(/_/g,"-")},title:function(){return Y.call(this).split(/_/).map(function(n){return $.call(n)}).join(" ")},ucfirst:$,lcfirst:q},rn={Collection:v({call:function(n,t){for(var r=arguments.length,e=Array(2<r?r-2:0),i=2;i<r;i++)e[i-2]=arguments[i];return!p(t)&&!y(t)||y(t)&&n in t?t[n].apply(t,e):R[n].apply(R,[t].concat(e))}},R),Number:v({},V,X),String:v({},nn,tn),init:function(n){var t=0<arguments.length&&void 0!==n?n:{},n=t.Number,n=void 0===n?global.Number:n,t=t.String,t=void 0===t?global.String:t;global.DateInterval=i,global.UniSharp={Helpers:rn},Object.assign(n,V),Object.assign(n.prototype,X),Object.assign(t,nn),Object.assign(t.prototype,tn)}},r={Helpers:rn};n.Helpers=rn,n.default=r,Object.defineProperty(n,"__esModule",{value:!0})});