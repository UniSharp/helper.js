!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.UniSharp={})}(this,function(n){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(){function e(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=function(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n},o=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},u=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var r=[],e=!0,u=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(e=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);e=!0);}catch(n){u=!0,i=n}finally{try{!e&&c.return&&c.return()}finally{if(u)throw i}}return r}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)},f=function(){function t(){r(this,t),this.years=0,this.months=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}return e(t,[{key:"invert",value:function(){var n=new t;return n.years=-1*this.years,n.months=-1*this.months,n.days=-1*this.days,n.hours=-1*this.hours,n.minutes=-1*this.minutes,n.seconds=-1*this.seconds,n.milliseconds=-1*this.milliseconds,n}},{key:"ago",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.invert().after(n)}},{key:"after",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return(n=n||new Date).setFullYear(n.getFullYear()+this.years),n.setMonth(n.getMonth()+this.months),n.setDate(n.getDate()+this.days),n.setHours(n.getHours()+this.hours),n.setMinutes(n.getMinutes()+this.minutes),n.setSeconds(n.getSeconds()+this.seconds),n.setMilliseconds(n.getMilliseconds()+this.milliseconds),n}}]),t}(),a=function(n){return"function"==typeof n},l=function(n){return n&&Array.isArray(n)},s=function(n){return n&&"object"===(void 0===n?"undefined":t(n))&&"Object"===n.constructor.name},h=function(n,t){return t<n?1:n<t?-1:0},v=function(t){return a(t)?t:null===t?function(n){return n}:function(n){return n===t}},d=function n(t,r){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;l(r)||(r=(""+r).replace(/^\[|\]/g,"").replace(/\[/g,".").split("."));var u=""+(r=[].concat(c(r))).shift();if(l(t)&&(t=o({},t)),!m(p(t),u))return[!1,e];var i=t[u];return r.length?n(i,r,e):[!0,i]},y=function(n,t,u){var r=k(t,function(n,t,r){return o({},n,i({},"number"==typeof(e=r)&&isFinite(e)?u++:r,t));var e},o({},n));return{flag:u,result:s(n)||s(t)?r:g(r)}},p=function(n){var t=Object.keys(n);return l(n)&&(t=t.map(function(n){return+n})),t},g=function(n){return l(n)?n:Object.values(n)},m=function(n,t){return-1!==g(n).indexOf(t)},b=function(n){return p(n).length},M=function(n,t){return d(n,t)[0]},w=function(n,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return d(n,t,r)[1]},S=function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t&&(n=C(n,t)),g(n).reduce(function(n,t){return n+(+t||0)},0)},A=function(n,t){for(var r=0,e=p(n),u=0;u<b(e)&&!1!==t(n[e[u]],e[u],r++);u++);return n},j=function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(null===u&&(u=b(n)),l(n))return n.slice(e,u);var i={};return e<0&&(e=b(n)+e),u<0&&(u=b(n)+u),A(n,function(n,t,r){e<=r&&r<u&&(i[t]=n)}),i},k=function(n,e,t){var u=t;return A(n,function(n,t,r){u=e(u,n,t,r)}),u},O=function(n){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;u=v(u);var t=k(n,function(n,t,r,e){return u(t,r,e)&&(n[r]=t),n},{});return s(n)?t:g(t)},x=function(n){return!b(n)},E=function(n){return!x(n)},H=function(n,u){var t=k(n,function(n,t,r,e){return o({},n,i({},r,u(t,r,e)))},{});return s(n)?t:g(t)},N=function(n,u){return k(n,function(n,t,r,e){return o({},n,u(t,r,e))},{})},B=function r(n){return k(n,function(n,t){return l(t)||s(t)?[].concat(c(n),c(r(t))):[].concat(c(n),[t])},[])},C=function(n,r){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return k(n,function(n,t){return null===e?[].concat(c(n),[w(t,r)]):o({},n,i({},w(t,e),w(t,r)))},null===e?[]:{})},D=function(n,t,r){var e=j(n),u=e[t];return e[t]=e[r],e[r]=u,e},P=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(r||(r=function(n,t){return h.apply(void 0,c(H([n,t],function(n){return s(n)?g(n):n})))}),l(n))return n.sort(r);var t=g(H(n,function(n,t){return[t,n]}));return t=t.sort(function(n,t){return r(n[1],t[1])}),N(t,function(n){var t=u(n,2),r=t[0],e=t[1];return i({},r,e)})},F=function(n,t){var r=g(n).indexOf(t);return-1===r?null:s(n)?p(n)[r]:r},K={keys:p,values:g,contains:m,count:b,has:M,get:w,sum:S,avg:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=b(n);return r?(t&&(n=C(n,t)),S(n)/r):null},each:A,slice:j,reduce:k,toArray:function r(n){return k(n,function(n,t){return[].concat(c(n),[s(t)?r(t):t])},[])},chunk:function(r,e){return k([].concat(c(Array(Math.ceil(b(r)/e)).keys())),function(n,t){return[].concat(c(n),[j(r,t*e,(t+1)*e)])},[])},except:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return r=B(r),O(n,function(n,t){return!m(r,t)})},filter:O,isEmpty:x,isNotEmpty:E,first:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t&&(n=O(n,t)),E(n)?g(n)[0]:null},last:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t&&(n=O(n,t)),E(n)?g(n)[b(n)-1]:null},map:H,mapWithKeys:N,flatten:B,min:function(n){return Math.min.apply(Math,c(g(n)))},max:function(n){return Math.max.apply(Math,c(g(n)))},only:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return r=B(r),O(n,function(n,t){return m(r,t)})},pipe:function(n,t){return t(n)},pluck:C,reject:function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null===e)throw new Error("Callback function is required.");return e=v(e),O(n,function(n,t,r){return!e(n,t,r)})},swap:D,shuffle:function(n){if(s(n))return n;for(var t=b(n),r=j(n),e=0;e<t;e++){var u=Math.floor(Math.random()*t);r=D(r,e,u)}return k(r,function(n,t){return[].concat(c(n),[t])},[])},take:function(n,t){return j(n,0,t)},unique:function(n){var r=[],e={};return A(n,function(n,t){m(r,n)||(e[t]=n,r.push(n))}),s(n)?e:g(e)},diff:function(n,t){return O(n,function(n){return!m(t,n)})},diffKeys:function(n,r){return O(o({},n),function(n,t){return!M(r,t)})},intersect:function(n,t){return O(n,function(n){return m(t,n)})},intersectByKeys:function(n,r){return O(o({},n),function(n,t){return M(r,t)})},merge:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return k(r,function(n,t){var r=n.flag,e=n.result;return y(e,t,r)},{flag:l(n)?b(n):0,result:n}).result},keyBy:function(n,r){return k(n,function(n,t){return o({},n,i({},w(t,r),t))},{})},groupBy:function(n,u){var t=k(n,function(n,t,r){var e=a(u)?u(t):w(t,u);return n[e]||(n[e]={}),n[e][r]=t,n},{});return l(n)&&(t=H(t,function(n){return g(n)})),t},sort:P,sortBy:function(n,r){if(!a(r)){var t=r;r=function(n){return w(n,t)}}var e=g(H(n,function(n,t){return[t,n,r(n)]}));return e=P(e,function(n,t){return h(n[2],t[2])}),l(n)?H(e,function(n){var t=u(n,2);return t[0],t[1]}):N(e,function(n){var t=u(n,2),r=t[0],e=t[1];return i({},r,e)})},append:function(n,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return l(n)?[].concat(c(n),[t]):o({},n,i({},r,t))},prepend:function(n,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return l(n)?[t].concat(c(n)):o(i({},r,t),n)},index:F,insert:function(n,t,r){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return l(n)?[].concat(c(j(n,0,t)),[r],c(j(n,t))):(t=F(p(n),t),o({},j(n,0,t),i({},e,r),j(n,t)))},join:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:", ";return s(n)&&(n=g(n)),n.join(t)},partition:function(n,u){var t=k(n,function(n,t,r,e){return n[+!u(t,r,e)][r]=t,n},[{},{}]);return s(n)?t:H(t,function(n){return g(n)})}},T=function(n,t){var r=new f;return r[n]=t,r},$={random:function(){var n,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=Math.random()*(t||1);return null===t||(n=t,Number(n)===n&&n%1!=0)?r:Math.floor(r)}},q={format:function(){return this.toString().replace(/(.)(?=(?:\d{3})+$)/g,"$1,")},times:function(n){return[].concat(c(Array(+this).keys())).map(function(n){return n+1}).map(n)},upto:function(n,t){var r=this;return(n-this+1).times(function(n){return n+r-1}).map(t)},downto:function(n,t){var r=this;return(this-n+1).times(function(n){return r-n+1}).map(t)},round:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return Math.round(this*Math.pow(10,n))/Math.pow(10,n)},floor:function(){return Math.floor(this)},ceil:function(){return Math.ceil(this)},abs:function(){return Math.abs(this)},year:function(){return T("years",this)},month:function(){return T("months",this)},day:function(){return T("days",this)},hour:function(){return T("hours",this)},minute:function(){return T("minutes",this)},second:function(){return T("seconds",this)},millisecond:function(){return T("milliseconds",this)},years:function(){return this.year()},months:function(){return this.month()},days:function(){return this.day()},hours:function(){return this.hour()},minutes:function(){return this.minute()},seconds:function(){return this.second()},milliseconds:function(){return this.millisecond()}},I={random:function(){for(var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16,t="";t.length<n;)t+=Math.random().toString(36).slice(2);return t.slice(-n)}},U={slugify:function(){return this.toLowerCase().replace(/[:/.?=&\s]/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")},stripTags:function(){return this.replace(/<\/?[a-z0-9]+.*?>/gi,"")},limit:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"...";return this.slice(0,n)+t},nl2br:function(){return this.replace(/\r\n|\n\r|\n|\r/g,"<br>")}},Y={Collection:o({call:function(n,t){for(var r=arguments.length,e=Array(2<r?r-2:0),u=2;u<r;u++)e[u-2]=arguments[u];return!l(t)&&!s(t)||s(t)&&M(t,n)?t[n].apply(t,e):K[n].apply(K,[t].concat(e))}},K),Number:o({},$,q),String:o({},I,U),init:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.Number,r=void 0===t?global.Number:t,e=n.String,u=void 0===e?global.String:e;for(var i in global.DateInterval=f,global.UniSharp={Helpers:Y},$)r[i]=$[i];for(var o in q)r.prototype[o]=q[o];for(var c in I)u[c]=I[c];for(var a in U)u.prototype[a]=U[a]}},_={Helpers:Y};n.Helpers=Y,n.default=_,Object.defineProperty(n,"__esModule",{value:!0})});