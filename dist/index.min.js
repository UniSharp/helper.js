!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.UniSharp={})}(this,function(n){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n};function e(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function l(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function s(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}var a=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r,e=arguments[t];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},i=(r(f,[{key:"invert",value:function(){var n=new f;return n.years=-1*this.years,n.months=-1*this.months,n.days=-1*this.days,n.hours=-1*this.hours,n.minutes=-1*this.minutes,n.seconds=-1*this.seconds,n.milliseconds=-1*this.milliseconds,n}},{key:"ago",value:function(n){n=0<arguments.length&&void 0!==n?n:null;return this.invert().after(n)}},{key:"after",value:function(n){n=0<arguments.length&&void 0!==n?n:null;return(n=n||new Date).setFullYear(n.getFullYear()+this.years),n.setMonth(n.getMonth()+this.months),n.setDate(n.getDate()+this.days),n.setHours(n.getHours()+this.hours),n.setMinutes(n.getMinutes()+this.minutes),n.setSeconds(n.getSeconds()+this.seconds),n.setMilliseconds(n.getMilliseconds()+this.milliseconds),n}},{key:"valueOf",value:function(){return 1e3*this.years*60*60*24*30*365+1e3*this.months*60*60*24*30+1e3*this.days*60*60*24+1e3*this.hours*60*60+1e3*this.minutes*60+1e3*this.seconds+this.milliseconds}}]),f);function f(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.years,r=void 0===t?0:t,e=n.months,i=void 0===e?0:e,u=n.days,o=void 0===u?0:u,t=n.hours,e=void 0===t?0:t,u=n.minutes,t=void 0===u?0:u,u=n.seconds,u=void 0===u?0:u,n=n.milliseconds,n=void 0===n?0:n;c(this,f),this.years=r,this.months=i,this.days=o,this.hours=e,this.minutes=t,this.seconds=u,this.milliseconds=n}function h(n){return"function"==typeof n}function v(n){return"number"==typeof n&&isFinite(n)}function d(n){return n&&Array.isArray(n)}function p(n){return n&&"object"===(void 0===n?"undefined":t(n))&&"Object"===n.constructor.name}function y(t){return h(t)?t:null===t?function(n){return n}:function(n){return n===t}}function g(n){return d(n)||(n=(""+n).replace(/^\[|\]/g,"").replace(/\[/g,".").split(".")),[].concat(s(n))}function u(n){return Z(T(n),function(n){return""+n})}function o(n,t,r){var e=2<arguments.length&&void 0!==r?r:null,r=""+(t=g(t)).shift();return d(n)&&(n=a({},n)),I(T(n),r)?(r=n[r],t.length?o(r,t,e):[!0,r]):[!1,e]}function m(n,t,r){var e=1<arguments.length&&void 0!==t?t:null,t=2<arguments.length&&void 0!==r?r:null,i=!1;return!0===e&&(i=!(e=null)),r=(r=Y(Z(n,function(n,t){return{key:t,value:n}}))).sort(function(n,t){return e?e(n.value,t.value):function(n,t){return t<n?1:n<t?-1:0}.apply(void 0,s(Z([n.value,t.value],function(n){return p(n)?Y(n):n})))*[1,-1][+i]}),t&&(r=Z(r,t)),p(n)?J(r,"value","key"):J(r,"value")}function b(n){return T(n).length}function M(n,t,r){return o(n,t,2<arguments.length&&void 0!==r?r:null)[1]}function j(n,t){return(t=1<arguments.length&&void 0!==t?t:null)&&(n=J(n,t)),Y(n).reduce(function(n,t){return n+(+t||0)},0)}function k(n,t){var r,e=d(n),i=0;for(r in n)if(e&&(r=+r),!1===t(n[r],r,i++))break;return n}function O(n,t,r){var e=1<arguments.length&&void 0!==t?t:0,i=2<arguments.length&&void 0!==r?r:null;if(null===i&&(i=b(n)),d(n))return n.slice(e,i);var u={};return e<0&&(e=b(n)+e),i<0&&(i=b(n)+i),k(n,function(n,t,r){e<=r&&r<i&&(u[t]=n)}),u}function w(n,t){var r,e=1<arguments.length&&void 0!==t?t:null,i=d(n),u={},o=0,e=y(e);for(r in n){var c=n[r];i&&(r=+r),e(c,r,o++)&&(u[r]=c)}return i?Y(u):u}function A(n){return!b(n)}function S(n){return!A(n)}function x(n,t,r){var e=O(n),n=e[t];return e[t]=e[r],e[r]=n,e}function C(r,t,n){var e,n=2<arguments.length&&void 0!==n&&n;return h(t)||(e=t,t=function(n){return M(n,e)}),m(Z(r,function(n){return t(n)}),n,function(n){var t=n.key;n.value;return{key:t,value:r[t]}})}function _(n,t){return-1===(t=Y(n).indexOf(t))?null:p(n)?T(n)[t]:t}function D(n){return[].concat(s(Array(+this).keys())).map(function(n){return n+1}).map(n)}function z(n,t){var r=new i;return r[n]=t,r}function B(){return z("years",this)}function F(){return z("months",this)}function H(){return z("days",this)}function N(){return z("hours",this)}function E(){return z("minutes",this)}function P(){return z("seconds",this)}function K(){return z("milliseconds",this)}function L(){return this.replace(/^(.)/,function(n){return n.toUpperCase()})}function U(){return this.replace(/^(.)/,function(n){return n.toLowerCase()})}function $(){return this.split(/[-_ ]/).filter(function(n){return n}).map(function(n){return L.call(n)}).join("")}function q(){return this.split(/(?=[A-Z])|[-_ ]/g).filter(function(n){return n}).join("_").toLowerCase()}var T=function(n){var t=Object.keys(n);return d(n)&&(t=t.map(function(n){return+n})),t},Y=function(n){return d(n)?n:Object.values(n)},I=function(n,t){return-1!==Y(n).indexOf(t)},W=function(n,t,r){var e,i=d(n),u=r,o=0;for(e in n)i&&(e=+e),u=t(u,n[e],e,o++);return u},r=function r(n){return W(n,function(n,t){return[].concat(s(n),[p(t)?r(t):t])},[])},Z=function(n,t){var r,e=d(n),i={},u=0;for(r in n)e&&(r=+r),i[r]=t(n[r],r,u++);return p(n)?i:Y(i)},G=function n(t,r){var e,i=1<arguments.length&&void 0!==r?r:1/0,u=[];for(e in t){var o=t[e];d(o)||p(o)?u=[].concat(s(u),s(1!==i?n(o,i-1):Y(o))):u.push(o)}return u},J=function(n,t,r){var e,i=2<arguments.length&&void 0!==r?r:null,u=null===i,o=u?[]:{};for(e in n)var c=n[e],o=u?[].concat(s(o),[M(c,t)]):a({},o,l({},M(c,i),M(c,t)));return o},Q={keys:T,values:Y,contains:I,count:b,has:function(n,t){return o(n,t)[0]},get:M,set:function(n,t,r){for(var e=n,i=(t=g(t)).shift(),u=n[i];t.length;){var o=t.shift();p(u)||d(u)||(e[i]=v(+o)?[]:{},u=e[i]),u=(e=u)[i=o]}return e[i]=r,n},sum:j,avg:function(n,t){var r=1<arguments.length&&void 0!==t?t:null,t=b(n);return t?(r&&(n=J(n,r)),j(n)/t):null},each:k,slice:O,reduce:W,toArray:r,chunk:function(r,e){return W([].concat(s(Array(Math.ceil(b(r)/e)).keys())),function(n,t){return[].concat(s(n),[O(r,t*e,(t+1)*e)])},[])},except:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var i,u=d(n),o={},r=G(r);for(i in n)u&&(i=+i),-1===r.indexOf(i)&&(o[i]=n[i]);return u?Y(o):o},filter:w,isEmpty:A,isNotEmpty:S,first:function(n,t){t=1<arguments.length&&void 0!==t?t:null;return t&&(n=w(n,t)),S(n)?Y(n)[0]:null},last:function(n,t){t=1<arguments.length&&void 0!==t?t:null;return t&&(n=w(n,t)),S(n)?Y(n)[b(n)-1]:null},map:Z,mapWithKeys:function(n,t){var r,e=d(n),i={},u=0;for(r in n)e&&(r=+r),i=a({},i,t(n[r],r,u++));return i},flatten:G,min:function(n){return Math.min.apply(Math,s(Y(n)))},max:function(n){return Math.max.apply(Math,s(Y(n)))},only:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var i,u=d(n),o={},r=G(r);for(i in n)u&&(i=+i),-1!==r.indexOf(i)&&(o[i]=n[i]);return p(n)?o:Y(o)},pipe:function(n,t){return t(n)},pluck:J,reject:function(n,t){if(null===(o=1<arguments.length&&void 0!==t?t:null))throw new Error("Callback function is required.");var r,e=d(n),i={},u=0,o=y(o);for(r in n)e&&(r=+r),o(n[r],r,u++)||(i[r]=n[r]);return p(n)?i:Y(i)},swap:x,shuffle:function(n){if(p(n))return n;for(var t=b(n),r=O(n),e=0;e<t;e++)var i=Math.floor(Math.random()*t),r=x(r,e,i);return r},take:function(n,t){return O(n,0,t)},unique:function(n){var t,r=[],e={};for(t in n){var i=n[t];-1===r.indexOf(i)&&(e[t]=i,r.push(i))}return p(n)?e:Y(e)},diff:function(n,t){return w(n,function(n){return!I(t,n)})},diffKeys:function(n,t){var r=u(t);return w(a({},n),function(n,t){return!I(r,t)})},intersect:function(n,t){return w(n,function(n){return I(t,n)})},intersectByKeys:function(n,t){var r=u(t);return w(a({},n),function(n,t){return I(r,t)})},merge:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return W(r,function(n,t){var e,r=n.flag,n=n.result;return e=r,n=W(r=t,function(n,t,r){return a({},n,l({},v(r)?e++:r,t))},a({},t=n)),{flag:e,result:p(t)||p(r)?n:Y(n)}},{flag:d(n)?b(n):0,result:n}).result},keyBy:function(n,t){var r,e={};for(r in n){var i=n[r];e[M(i,t)]=i}return e},groupBy:function(n,t){var r,e=h(t),i=d(n),u={};for(r in n){var o=n[r],c=e?t(o):M(o,t);u[c]||(u[c]=i?[]:{}),i?u[c].push(o):u[c][r]=o}return u},sort:function(n,t){t=1<arguments.length&&void 0!==t?t:null;return d(n)&&t?n.sort(t):m(n,t)},sortDesc:function(n){return m(n,!0)},sortBy:C,sortByDesc:function(n,t){return C(n,t,!0)},append:function(n,t,r){r=2<arguments.length&&void 0!==r?r:null;return d(n)?[].concat(s(n),[t]):a({},n,l({},r,t))},prepend:function(n,t,r){r=2<arguments.length&&void 0!==r?r:null;return d(n)?[t].concat(s(n)):a(l({},r,t),n)},index:_,insert:function(n,t,r,e){e=3<arguments.length&&void 0!==e?e:null;return d(n)?[].concat(s(O(n,0,t)),[r],s(O(n,t))):(t=_(T(n),t),a({},O(n,0,t),l({},e,r),O(n,t)))},join:function(n,t){t=1<arguments.length&&void 0!==t?t:", ";return p(n)&&(n=Y(n)),n.join(t)},partition:function(n,t){var r,e=d(n),i=e?[[],[]]:[{},{}],u=0;for(r in n){e&&(r=+r);var o=n[r],c=+!t(o,r,u++);e?i[c].push(o):i[c][r]=o}return i},flip:function(n){var t,r=d(n),e={};for(t in n)e[n[t]]=r?+t:t;return e},fill:function(n,t,r,e){var i=2<arguments.length&&void 0!==r?r:0,u=(u=3<arguments.length&&void 0!==e?e:null)||b(n);if(d(n))return n.fill(t,i,u);var o,c=0,l={};for(o in n)l[o]=i<=c&&c<u?t:n[o],c++;return l},freeze:function(n){return Object.freeze(n)},isFrozen:function(n){return Object.isFrozen(n)}},R={random:function(n){var t=0<arguments.length&&void 0!==n?n:null,n=Math.random()*(t||1);return null===t||(t=t,Number(t)===t&&t%1!=0)?n:Math.floor(n)}},V={format:function(){return this.toString().replace(/(.)(?=(?:\d{3})+$)/g,"$1,")},times:D,upto:function(n,t){var r=this;return D.call(n-this+1,function(n){return n+r-1}).map(t)},downto:function(n,t){var r=this;return D.call(this-n+1,function(n){return r-n+1}).map(t)},round:function(n){n=0<arguments.length&&void 0!==n?n:0;return Math.round(this*Math.pow(10,n))/Math.pow(10,n)},floor:function(){return Math.floor(this)},ceil:function(){return Math.ceil(this)},abs:function(){return Math.abs(this)},year:B,month:F,day:H,hour:N,minute:E,second:P,millisecond:K,years:function(){return B.call(this)},months:function(){return F.call(this)},days:function(){return H.call(this)},hours:function(){return N.call(this)},minutes:function(){return E.call(this)},seconds:function(){return P.call(this)},milliseconds:function(){return K.call(this)}},X={random:function(n){for(var t=0<arguments.length&&void 0!==n?n:16,r="";r.length<t;)r+=Math.random().toString(36).slice(2);return r.slice(-t)}},nn={slugify:function(){return this.toLowerCase().replace(/[:/.?=&#\s]/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")},stripTags:function(){return this.replace(/<\/?[a-z0-9]+.*?>/gi,"")},limit:function(n,t){t=1<arguments.length&&void 0!==t?t:"...";return this.slice(0,n)+t},nl2br:function(){return this.replace(/\r\n|\n\r|\n|\r/g,"<br>")},studly:$,camel:function(){return U.call($.call(this))},snake:q,kebab:function(){return q.call(this).replace(/_/g,"-")},title:function(){return q.call(this).split(/_/).map(function(n){return L.call(n)}).join(" ")},ucfirst:L,lcfirst:U},tn={Collection:a({call:function(n,t){for(var r=arguments.length,e=Array(2<r?r-2:0),i=2;i<r;i++)e[i-2]=arguments[i];return!d(t)&&!p(t)||p(t)&&n in t?t[n].apply(t,e):Q[n].apply(Q,[t].concat(e))}},Q),Number:a({},R,V),String:a({},X,nn),init:function(n){var t=0<arguments.length&&void 0!==n?n:{},n=t.Number,n=void 0===n?global.Number:n,t=t.String,t=void 0===t?global.String:t;global.DateInterval=i,global.UniSharp={Helpers:tn},Object.assign(n,R),Object.assign(n.prototype,V),Object.assign(t,X),Object.assign(t.prototype,nn)}},r={Helpers:tn};n.Helpers=tn,n.default=r,Object.defineProperty(n,"__esModule",{value:!0})});