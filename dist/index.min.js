!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.UniSharp=t()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(){function e(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),o=function(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n},i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},c=function(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)},f=function(n){return n&&"object"===(void 0===n?"undefined":t(n))&&n.constructor===Array},a=function(n){return n&&"object"===(void 0===n?"undefined":t(n))&&n.constructor===Object},l=function(t){return"function"==typeof t?t:null===t?function(n){return n}:function(n){return n===t}},u=function n(t,r){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;f(r)||(r=(""+r).replace(/^\[|\]/g,"").replace(/\[/g,".").split("."));var u=""+(r=[].concat(c(r))).shift();if(f(t)&&(t=i({},t)),!y(h(t),u))return[!1,e];var o=t[u];return r.length?n(o,r,e):[!0,o]},s=function(n,t,u){var r=j(t,function(n,t,r){return i({},n,o({},"number"==typeof(e=r)&&isFinite(e)?u++:r,t));var e},i({},n));return{flag:u,result:a(n)||a(t)?r:p(r)}},h=function(n){var t=Object.keys(n);return f(n)&&(t=t.map(function(n){return+n})),t},p=function(n){return f(n)?n:Object.values(n)},y=function(n,t){return-1!==p(n).indexOf(t)},v=function(n){return h(n).length},g=function(n,t){return u(n,t)[0]},d=function(n,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return u(n,t,r)[1]},m=function(n){return p(n).reduce(function(n,t){return n+ +t},0)},b=function(n,t){for(var r=0,e=h(n),u=0;u<v(e)&&!1!==t(n[e[u]],e[u],r++);u++);return n},M=function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(null===u&&(u=v(n)),f(n))return n.slice(e,u);var o={};return e<0&&(e=v(n)+e),u<0&&(u=v(n)+u),b(n,function(n,t,r){e<=r&&r<u&&(o[t]=n)}),o},j=function(n,e,t){var u=t;return b(n,function(n,t,r){u=e(u,n,t,r)}),u},w=function(n){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;u=l(u);var t=j(n,function(n,t,r,e){return u(t,r,e)&&(n[r]=t),n},{});return a(n)?t:p(t)},S=function(n){return!v(n)},k=function(n){return!S(n)},N=function(n,u){var t=j(n,function(n,t,r,e){return i({},n,o({},r,u(t,r,e)))},{});return a(n)?t:p(t)},A=function r(n){return j(n,function(n,t){return f(t)||a(t)?[].concat(c(n),c(r(t))):[].concat(c(n),[t])},[])},O=function(n,t,r){var e=M(n),u=e[t];return e[t]=e[r],e[r]=u,e},E={keys:h,values:p,contains:y,count:v,has:g,get:d,sum:m,avg:function(n){return m(n)/v(n)},each:b,slice:M,reduce:j,toArray:function r(n){return j(n,function(n,t){return[].concat(c(n),[a(t)?r(t):t])},[])},chunk:function(r,e){return j([].concat(c(Array(Math.ceil(v(r)/e)).keys())),function(n,t){return[].concat(c(n),[M(r,t*e,(t+1)*e)])},[])},except:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return r=A(r),w(n,function(n,t){return!y(r,t)})},filter:w,isEmpty:S,isNotEmpty:k,first:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t&&(n=w(n,t)),k(n)?p(n)[0]:null},last:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t&&(n=w(n,t)),k(n)?p(n)[v(n)-1]:null},map:N,mapWithKeys:function(n,u){return j(n,function(n,t,r,e){return i({},n,u(t,r,e))},{})},flatten:A,min:function(n){return Math.min.apply(Math,c(p(n)))},max:function(n){return Math.max.apply(Math,c(p(n)))},only:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return r=A(r),w(n,function(n,t){return y(r,t)})},pipe:function(n,t){return t(n)},pluck:function(n,r){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return j(n,function(n,t){return null===e?[].concat(c(n),[d(t,r)]):i({},n,o({},d(t,e),d(t,r)))},null===e?[]:{})},reject:function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null===e)throw new Error("Callback function is required.");return e=l(e),w(n,function(n,t,r){return!e(n,t,r)})},swap:O,shuffle:function(n){if(a(n))return n;for(var t=v(n),r=M(n),e=0;e<t;e++){var u=Math.floor(Math.random()*t);r=O(r,e,u)}return j(r,function(n,t){return[].concat(c(n),[t])},[])},take:function(n,t){return M(n,0,t)},unique:function(n){var r=[],e={};return b(n,function(n,t){y(r,n)||(e[t]=n,r.push(n))}),a(n)?e:p(e)},diff:function(n,t){return w(n,function(n){return!y(t,n)})},diffKeys:function(n,r){return w(i({},n),function(n,t){return!g(r,t)})},intersect:function(n,t){return w(n,function(n){return y(t,n)})},intersectByKeys:function(n,r){return w(i({},n),function(n,t){return g(r,t)})},merge:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return j(r,function(n,t){var r=n.flag,e=n.result;return s(e,t,r)},{flag:f(n)?v(n):0,result:n}).result},keyBy:function(n,r){return j(n,function(n,t){return i({},n,o({},d(t,r),t))},{})},groupBy:function(n,u){var t=j(n,function(n,t,r){var e=d(t,u);return n[e]||(n[e]={}),n[e][r]=t,n},{});return f(n)&&(t=N(t,function(n){return p(n)})),t}},x=["year","month","day","hour","minute","second","millisecond"],D=function(){function n(){var t=this;r(this,n),x.forEach(function(n){t[n+"s"]=0})}return e(n,[{key:"invert",value:function(){var t=this,r=new n;return x.forEach(function(n){r[n+"s"]=-1*t[n+"s"]}),r}},{key:"ago",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.invert().after(n)}},{key:"after",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return(n=n||new Date).setFullYear(n.getFullYear()+this.years),n.setMonth(n.getMonth()+this.months),n.setDate(n.getDate()+this.days),n.setHours(n.getHours()+this.hours),n.setMinutes(n.getMinutes()+this.minutes),n.setSeconds(n.getSeconds()+this.seconds),n.setMilliseconds(n.getMilliseconds()+this.milliseconds),n}}]),n}();x.forEach(function(t){Number.prototype[t]=function(){return this[t+"s"]()},Number.prototype[t+"s"]=function(){var n=new D;return n[t+"s"]=this,n}});return Number.random=function(){var n,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=Math.random()*(t||1);return null===t||(n=t,Number(n)===n&&n%1!=0)?r:Math.floor(r)},Number.prototype.format=function(){return this.toString().replace(/(.)(?=(?:\d{3})+$)/g,"$1,")},Number.prototype.times=function(n){return[].concat(c(Array(+this).keys())).map(function(n){return n+1}).map(n)},Number.prototype.upto=function(n,t){var r=this;return(n-this+1).times(function(n){return n+r-1}).map(t)},Number.prototype.downto=function(n,t){var r=this;return(this-n+1).times(function(n){return r-n+1}).map(t)},Number.prototype.round=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return Math.round(this*Math.pow(10,n))/Math.pow(10,n)},Number.prototype.floor=function(){return Math.floor(this)},Number.prototype.ceil=function(){return Math.ceil(this)},Number.prototype.abs=function(){return Math.abs(this)},Object.isObject=function(n){return n&&"object"===(void 0===n?"undefined":t(n))&&n.constructor===Object},String.random=function(){for(var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16,t="";t.length<n;)t+=Math.random().toString(36).slice(2);return t.slice(-n)},String.prototype.slugify=function(){return this.toLowerCase().replace(/[:/.?=&\s]/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")},String.prototype.stripTags=function(){return this.replace(/<\/?[a-z0-9]+.*?>/gi,"")},String.prototype.limit=function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"...";return this.slice(0,n)+t},String.prototype.nl2br=function(){return this.replace(/\r\n|\n\r|\n|\r/g,"<br>")},global.DateInterval=D,{Helpers:{collection:function(n,t){for(var r=arguments.length,e=Array(2<r?r-2:0),u=2;u<r;u++)e[u-2]=arguments[u];return!f(t)&&!a(t)||a(t)&&g(t,n)?t[n].apply(t,e):E[n].apply(E,[t].concat(e))}}}});