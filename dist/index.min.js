!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(n.UniSharp={})}(this,function(n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},p=function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")},t=function(){function e(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),c=function(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n},f=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n},i=function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,r){var t=[],e=!0,i=!1,u=void 0;try{for(var o,a=n[Symbol.iterator]();!(e=(o=a.next()).done)&&(t.push(o.value),!r||t.length!==r);e=!0);}catch(n){i=!0,u=n}finally{try{!e&&a.return&&a.return()}finally{if(i)throw u}}return t}(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)},s=function(){function y(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.years,t=void 0===r?0:r,e=n.months,i=void 0===e?0:e,u=n.days,o=void 0===u?0:u,a=n.hours,c=void 0===a?0:a,f=n.minutes,s=void 0===f?0:f,l=n.seconds,h=void 0===l?0:l,v=n.milliseconds,d=void 0===v?0:v;p(this,y),this.years=t,this.months=i,this.days=o,this.hours=c,this.minutes=s,this.seconds=h,this.milliseconds=d}return t(y,[{key:"invert",value:function(){var n=new y;return n.years=-1*this.years,n.months=-1*this.months,n.days=-1*this.days,n.hours=-1*this.hours,n.minutes=-1*this.minutes,n.seconds=-1*this.seconds,n.milliseconds=-1*this.milliseconds,n}},{key:"ago",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.invert().after(n)}},{key:"after",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return(n=n||new Date).setFullYear(n.getFullYear()+this.years),n.setMonth(n.getMonth()+this.months),n.setDate(n.getDate()+this.days),n.setHours(n.getHours()+this.hours),n.setMinutes(n.getMinutes()+this.minutes),n.setSeconds(n.getSeconds()+this.seconds),n.setMilliseconds(n.getMilliseconds()+this.milliseconds),n}},{key:"valueOf",value:function(){return 1e3*this.years*60*60*24*30*365+1e3*this.months*60*60*24*30+1e3*this.days*60*60*24+1e3*this.hours*60*60+1e3*this.minutes*60+1e3*this.seconds+this.milliseconds}}]),y}(),l=function(n){return"function"==typeof n},h=function(n){return"number"==typeof n&&isFinite(n)},v=function(n){return n&&Array.isArray(n)},d=function(n){return n&&"object"===(void 0===n?"undefined":r(n))&&"Object"===n.constructor.name},u=function(n,r){return r<n?1:n<r?-1:0},y=function(r){return l(r)?r:null===r?function(n){return n}:function(n){return n===r}},m=function(n){return v(n)||(n=(""+n).replace(/^\[|\]/g,"").replace(/\[/g,".").split(".")),[].concat(a(n))},e=function(n){return B(g(n),function(n){return""+n})},o=function n(r,t){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=""+(t=m(t)).shift();if(v(r)&&(r=f({},r)),!M(g(r),i))return[!1,e];var u=r[i];return t.length?n(u,t,e):[!0,u]},g=function(n){var r=Object.keys(n);return v(n)&&(r=r.map(function(n){return+n})),r},b=function(n){return v(n)?n:Object.values(n)},M=function(n,r){return-1!==b(n).indexOf(r)},w=function(n){return g(n).length},O=function(n,r){return o(n,r)[0]},S=function(n,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return o(n,r,t)[1]},k=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return r&&(n=P(n,r)),b(n).reduce(function(n,r){return n+(+r||0)},0)},A=function(n,r){var t=v(n),e=0;for(var i in n)if(t&&(i=+i),!1===r(n[i],i,e++))break;return n},j=function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(null===i&&(i=w(n)),v(n))return n.slice(e,i);var u={};return e<0&&(e=w(n)+e),i<0&&(i=w(n)+i),A(n,function(n,r,t){e<=t&&t<i&&(u[r]=n)}),u},x=function(n,r,t){var e=v(n),i=t,u=0;for(var o in n)e&&(o=+o),i=r(i,n[o],o,u++);return i},E=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,t=v(n),e={},i=0;for(var u in r=y(r),n){var o=n[u];t&&(u=+u),r(o,u,i++)&&(e[u]=o)}return t?b(e):e},H=function(n){return!w(n)},N=function(n){return!H(n)},B=function(n,r){var t=v(n),e={},i=0;for(var u in n)t&&(u=+u),e[u]=r(n[u],u,i++);return d(n)?e:b(e)},C=function(n,r){var t=v(n),e={},i=0;for(var u in n)t&&(u=+u),e=f({},e,r(n[u],u,i++));return e},D=function n(r){var t=[];for(var e in r){var i=r[e];t=v(i)||d(i)?[].concat(a(t),a(n(i))):[].concat(a(t),[i])}return t},P=function(n,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,e=null===t,i=e?[]:{};for(var u in n){var o=n[u];i=e?[].concat(a(i),[S(o,r)]):f({},i,c({},S(o,t),S(o,r)))}return i},F=function(n,r,t){var e=j(n),i=e[r];return e[r]=e[t],e[t]=i,e},K=function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t||(t=function(n,r){return u.apply(void 0,a(B([n,r],function(n){return d(n)?b(n):n})))}),v(n))return n.sort(t);var r=b(B(n,function(n,r){return[r,n]}));return r=r.sort(function(n,r){return t(n[1],r[1])}),C(r,function(n){var r=i(n,2),t=r[0],e=r[1];return c({},t,e)})},T=function(n,r){var t=b(n).indexOf(r);return-1===t?null:d(n)?g(n)[t]:t},$={keys:g,values:b,contains:M,count:w,has:O,get:S,set:function(n,r,t){for(var e=n,i=(r=m(r)).shift(),u=n[i];r.length;){var o=r.shift();d(u)||v(u)||(e[i]=h(+o)?[]:{},u=e[i]),u=(e=u)[i=o]}return e[i]=t,n},sum:k,avg:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,t=w(n);return t?(r&&(n=P(n,r)),k(n)/t):null},each:A,slice:j,reduce:x,toArray:function t(n){return x(n,function(n,r){return[].concat(a(n),[d(r)?t(r):r])},[])},chunk:function(t,e){return x([].concat(a(Array(Math.ceil(w(t)/e)).keys())),function(n,r){return[].concat(a(n),[j(t,r*e,(r+1)*e)])},[])},except:function(n){for(var r=arguments.length,t=Array(1<r?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];var i=v(n),u={};for(var o in t=D(t),n)i&&(o=+o),-1===t.indexOf(o)&&(u[o]=n[o]);return i?b(u):u},filter:E,isEmpty:H,isNotEmpty:N,first:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return r&&(n=E(n,r)),N(n)?b(n)[0]:null},last:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return r&&(n=E(n,r)),N(n)?b(n)[w(n)-1]:null},map:B,mapWithKeys:C,flatten:D,min:function(n){return Math.min.apply(Math,a(b(n)))},max:function(n){return Math.max.apply(Math,a(b(n)))},only:function(n){for(var r=arguments.length,t=Array(1<r?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];var i=v(n),u={};for(var o in t=D(t),n)i&&(o=+o),-1!==t.indexOf(o)&&(u[o]=n[o]);return d(n)?u:b(u)},pipe:function(n,r){return r(n)},pluck:P,reject:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null===r)throw new Error("Callback function is required.");var t=v(n),e={},i=0;for(var u in r=y(r),n)t&&(u=+u),r(n[u],u,i++)||(e[u]=n[u]);return d(n)?e:b(e)},swap:F,shuffle:function(n){if(d(n))return n;for(var r=w(n),t=j(n),e=0;e<r;e++){var i=Math.floor(Math.random()*r);t=F(t,e,i)}return t},take:function(n,r){return j(n,0,r)},unique:function(n){var r=[],t={};for(var e in n){var i=n[e];-1===r.indexOf(i)&&(t[e]=i,r.push(i))}return d(n)?t:b(t)},diff:function(n,r){return E(n,function(n){return!M(r,n)})},diffKeys:function(n,r){var t=e(r);return E(f({},n),function(n,r){return!M(t,r)})},intersect:function(n,r){return E(n,function(n){return M(r,n)})},intersectByKeys:function(n,r){var t=e(r);return E(f({},n),function(n,r){return M(t,r)})},merge:function(n){for(var r=arguments.length,t=Array(1<r?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];return x(t,function(n,r){var t,e,i,u,o=n.flag,a=n.result;return i=o,u=x(e=r,function(n,r,t){return f({},n,c({},h(t)?i++:t,r))},f({},t=a)),{flag:i,result:d(t)||d(e)?u:b(u)}},{flag:v(n)?w(n):0,result:n}).result},keyBy:function(n,r){var t={};for(var e in n){var i=n[e];t[S(i,r)]=i}return t},groupBy:function(n,r){var t=l(r),e=v(n),i={};for(var u in n){var o=n[u],a=t?r(o):S(o,r);i[a]||(i[a]=e?[]:{}),e?i[a].push(o):i[a][u]=o}return i},sort:K,sortBy:function(n,t){if(!l(t)){var r=t;t=function(n){return S(n,r)}}var e=b(B(n,function(n,r){return[r,n,t(n)]}));return e=K(e,function(n,r){return u(n[2],r[2])}),v(n)?B(e,function(n){var r=i(n,2);return r[0],r[1]}):C(e,function(n){var r=i(n,2),t=r[0],e=r[1];return c({},t,e)})},append:function(n,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return v(n)?[].concat(a(n),[r]):f({},n,c({},t,r))},prepend:function(n,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return v(n)?[r].concat(a(n)):f(c({},t,r),n)},index:T,insert:function(n,r,t){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return v(n)?[].concat(a(j(n,0,r)),[t],a(j(n,r))):(r=T(g(n),r),f({},j(n,0,r),c({},e,t),j(n,r)))},join:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:", ";return d(n)&&(n=b(n)),n.join(r)},partition:function(n,r){var t=v(n),e=t?[[],[]]:[{},{}],i=0;for(var u in n){t&&(u=+u);var o=n[u],a=+!r(o,u,i++);t?e[a].push(o):e[a][u]=o}return e},flip:function(n){var r=v(n),t={};for(var e in n)t[n[e]]=r?+e:e;return t}},q=function(n){return[].concat(a(Array(+this).keys())).map(function(n){return n+1}).map(n)},I=function(n,r){var t=new s;return t[n]=r,t},U={random:function(){var n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=Math.random()*(r||1);return null===r||(n=r,Number(n)===n&&n%1!=0)?t:Math.floor(t)}},Y={format:function(){return this.toString().replace(/(.)(?=(?:\d{3})+$)/g,"$1,")},times:q,upto:function(n,r){var t=this;return q.call(n-this+1,function(n){return n+t-1}).map(r)},downto:function(n,r){var t=this;return q.call(this-n+1,function(n){return t-n+1}).map(r)},round:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return Math.round(this*Math.pow(10,n))/Math.pow(10,n)},floor:function(){return Math.floor(this)},ceil:function(){return Math.ceil(this)},abs:function(){return Math.abs(this)},year:function(){return I("years",this)},month:function(){return I("months",this)},day:function(){return I("days",this)},hour:function(){return I("hours",this)},minute:function(){return I("minutes",this)},second:function(){return I("seconds",this)},millisecond:function(){return I("milliseconds",this)},years:function(){return this.year()},months:function(){return this.month()},days:function(){return this.day()},hours:function(){return this.hour()},minutes:function(){return this.minute()},seconds:function(){return this.second()},milliseconds:function(){return this.millisecond()}},_={random:function(){for(var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16,r="";r.length<n;)r+=Math.random().toString(36).slice(2);return r.slice(-n)}},z={slugify:function(){return this.toLowerCase().replace(/[:/.?=&\s]/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")},stripTags:function(){return this.replace(/<\/?[a-z0-9]+.*?>/gi,"")},limit:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"...";return this.slice(0,n)+r},nl2br:function(){return this.replace(/\r\n|\n\r|\n|\r/g,"<br>")}},L={Collection:f({call:function(n,r){for(var t=arguments.length,e=Array(2<t?t-2:0),i=2;i<t;i++)e[i-2]=arguments[i];return!v(r)&&!d(r)||d(r)&&O(r,n)?r[n].apply(r,e):$[n].apply($,[r].concat(e))}},$),Number:f({},U,Y),String:f({},_,z),init:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.Number,t=void 0===r?global.Number:r,e=n.String,i=void 0===e?global.String:e;for(var u in global.DateInterval=s,global.UniSharp={Helpers:L},U)t[u]=U[u];for(var o in Y)t.prototype[o]=Y[o];for(var a in _)i[a]=_[a];for(var c in z)i.prototype[c]=z[c]}},W={Helpers:L};n.Helpers=L,n.default=W,Object.defineProperty(n,"__esModule",{value:!0})});